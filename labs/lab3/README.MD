# –õ–∞–±–æ—Ä–∞—Ç–æ—Ä–Ω–∞—è —Ä–∞–±–æ—Ç–∞ #3: –ü–∞—Ç—Ç–µ—Ä–Ω—ã –ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –≤ Ruby

–ò–∑—É—á–µ–Ω–∏–µ –∫–ª–∞—Å—Å–∏—á–µ—Å–∫–∏—Ö –ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤ –æ–±—ä–µ–∫—Ç–Ω–æ-–æ—Ä–∏–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ –ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –Ω–∞ —è–∑—ã–∫–µ Ruby. –í—ã –Ω–∞—É—á–∏—Ç–µ—Å—å —Ä–∞–±–æ—Ç–∞—Ç—å —Å –∫–ª–∞—Å—Å–∞–º–∏, –º–æ–¥—É–ª—è–º–∏, –Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ–º –∏ Ruby-—Å–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã–º–∏ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ü–∏—è–º–∏.

## –ó–∞–¥–∞–Ω–∏–µ

1. –ü–æ–ª—É—á–∏—Ç–µ —É –ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª—è —Å–≤–æ–π –≤–∞—Ä–∏–∞–Ω—Ç -- –ø–∞—Ç—Ç–µ—Ä–Ω –ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è, –∫–æ—Ç–æ—Ä—ã–π –Ω—É–∂–Ω–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å
2. –û—Ç–∫—Ä–æ–π—Ç–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–π —Ñ–∞–π–ª (–Ω–∞–ø—Ä–∏–º–µ—Ä, `factory.rb`)
3. –†–µ–∞–ª–∏–∑—É–π—Ç–µ –ø–∞—Ç—Ç–µ—Ä–Ω, –∑–∞–ø–æ–ª–Ω–∏–≤ TODO-–∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏
4. –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Ñ–∞–π–ª: `ruby factory.rb`
5. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤—Å–µ —Ç–µ—Å—Ç—ã –ø—Ä–æ—Ö–æ–¥—è—Ç

## –î–æ—Å—Ç—É–ø–Ω—ã–µ –ø–∞—Ç—Ç–µ—Ä–Ω—ã

### 1. Singleton Pattern (`singleton.rb`)
–ì–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç, —á—Ç–æ —É –∫–ª–∞—Å—Å–∞ –µ—Å—Ç—å —Ç–æ–ª—å–∫–æ –æ–¥–∏–Ω —ç–∫–∑–µ–º–ø–ª—è—Ä.

**Ruby —Ñ–∏—á–∏:**
- –ú–µ—Ç–æ–¥—ã –∫–ª–∞—Å—Å–∞ (`self.method_name`)
- –ü—Ä–∏–≤–∞—Ç–Ω—ã–µ –º–µ—Ç–æ–¥—ã –∫–ª–∞—Å—Å–∞ (`private_class_method`)
- –ú–æ–¥—É–ª—å `Singleton` –∏–∑ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–π –±–∏–±–ª–∏–æ—Ç–µ–∫–∏
- –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –∫–ª–∞—Å—Å–∞ (`@@variable`)

**–ü—Ä–∏–º–µ—Ä—ã:** Logger, Configuration, DatabaseConnection

### 2. Factory Pattern (`factory.rb`)
–°–æ–∑–¥–∞–Ω–∏–µ –æ–±—ä–µ–∫—Ç–æ–≤ –±–µ–∑ —É–∫–∞–∑–∞–Ω–∏—è –∏—Ö –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã—Ö –∫–ª–∞—Å—Å–æ–≤.

**Ruby —Ñ–∏—á–∏:**
- –ù–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ –∫–ª–∞—Å—Å–æ–≤
- –ú–µ—Ç–æ–¥—ã –∫–ª–∞—Å—Å–∞ –∫–∞–∫ —Ñ–∞–±—Ä–∏–∫–∏
- –°–∏–º–≤–æ–ª—ã –∫–∞–∫ –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä—ã
- –ü–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –º–µ—Ç–æ–¥–æ–≤

**–ü—Ä–∏–º–µ—Ä—ã:** VehicleFactory, NotificationFactory, ThemeFactory

### 3. Observer Pattern (`observer.rb`)
–û–¥–∏–Ω –æ–±—ä–µ–∫—Ç –æ–ø–æ–≤–µ—â–∞–µ—Ç –º–Ω–æ–∂–µ—Å—Ç–≤–æ –∑–∞–≤–∏—Å–∏–º—ã—Ö –æ–±—ä–µ–∫—Ç–æ–≤ –æ–± –∏–∑–º–µ–Ω–µ–Ω–∏—è—Ö.

**Ruby —Ñ–∏—á–∏:**
- –ú–æ–¥—É–ª–∏ –∫–∞–∫ –ø—Ä–∏–º–µ—Å–∏ (mixins)
- –ú–∞—Å—Å–∏–≤—ã –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –Ω–∞–±–ª—é–¥–∞—Ç–µ–ª–µ–π
- –ò—Ç–µ—Ä–∞—Ç–æ—Ä—ã
- Callback-–∏

**–ü—Ä–∏–º–µ—Ä—ã:** WeatherStation, Stock market, NewsAgency

### 4. Strategy Pattern (`strategy.rb`)
–°–µ–º–µ–π—Å—Ç–≤–æ –≤–∑–∞–∏–º–æ–∑–∞–º–µ–Ω—è–µ–º—ã—Ö –∞–ª–≥–æ—Ä–∏—Ç–º–æ–≤.

**Ruby —Ñ–∏—á–∏:**
- –ú–æ–¥—É–ª–∏ –∫–∞–∫ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã
- –ö–æ–º–ø–æ–∑–∏—Ü–∏—è —Å—Ç—Ä–∞—Ç–µ–≥–∏–π
- –ó–∞–º–µ–Ω–∞ —Å—Ç—Ä–∞—Ç–µ–≥–∏–π –≤ runtime
- –ü–æ–ª–∏–º–æ—Ä—Ñ–∏–∑–º

**–ü—Ä–∏–º–µ—Ä—ã:** Payment methods, Sorting algorithms, Compression

## –ö–∞–∫ —Ä–∞–±–æ—Ç–∞—Ç—å —Å –∑–∞–¥–∞–Ω–∏—è–º–∏

1. –û—Ç–∫—Ä–æ–π—Ç–µ Ruby —Ñ–∞–π–ª (–Ω–∞–ø—Ä–∏–º–µ—Ä, `singleton.rb`)
2. –ü—Ä–æ—á–∏—Ç–∞–π—Ç–µ –æ–ø–∏—Å–∞–Ω–∏–µ –ø–∞—Ç—Ç–µ—Ä–Ω–∞ –∏ —É–ø—Ä–∞–∂–Ω–µ–Ω–∏–π
3. –ù–∞–π–¥–∏—Ç–µ `TODO` –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –≤ –∫–æ–¥–µ
4. –†–µ–∞–ª–∏–∑—É–π—Ç–µ –Ω–µ–¥–æ—Å—Ç–∞—é—â–∏–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª
5. –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Ñ–∞–π–ª: `ruby singleton.rb`
6. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, –∫–∞–∫–∏–µ —Ç–µ—Å—Ç—ã –ø—Ä–æ—Ö–æ–¥—è—Ç
7. –ü–æ–≤—Ç–æ—Ä—è–π—Ç–µ, –ø–æ–∫–∞ –≤—Å–µ —Ç–µ—Å—Ç—ã –Ω–µ –ø—Ä–æ–π–¥—É—Ç ‚úì

## –ó–∞–ø—É—Å–∫ —É–ø—Ä–∞–∂–Ω–µ–Ω–∏–π

```bash
# –ó–∞–ø—É—Å–∫ –æ—Ç–¥–µ–ª—å–Ω—ã—Ö —É–ø—Ä–∞–∂–Ω–µ–Ω–∏–π
ruby singleton.rb
ruby factory.rb
ruby observer.rb
ruby strategy.rb
```

## –ü—Ä–∏–º–µ—Ä –≤—ã–≤–æ–¥–∞

–î–æ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏:
```
Testing Singleton Pattern...
‚úó Test 1 failed: undefined method `instance'
‚úó Test 2 failed: ...
Tests passed: 0/8
```

–ü–æ—Å–ª–µ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –≤—Å–µ—Ö —É–ø—Ä–∞–∂–Ω–µ–Ω–∏–π:
```
Testing Singleton Pattern...
‚úì Test 1 passed: Logger returns same instance
‚úì Test 2 passed: Logger.new is private
...
üéâ All tests passed! (8/8)
```

## –°–æ–≤–µ—Ç—ã

- **–ß–∏—Ç–∞–π—Ç–µ TODO –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏** - —Ç–∞–º –µ—Å—Ç—å –ø–æ–¥—Å–∫–∞–∑–∫–∏
- **–°–º–æ—Ç—Ä–∏—Ç–µ –Ω–∞ —Ç–µ—Å—Ç—ã** –≤ –∫–æ–Ω—Ü–µ —Ñ–∞–π–ª–∞ - –æ–Ω–∏ –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç –æ–∂–∏–¥–∞–µ–º–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ
- **–ó–∞–ø—É—Å–∫–∞–π—Ç–µ —Ç–µ—Å—Ç—ã —á–∞—Å—Ç–æ**, —á—Ç–æ–±—ã –≤–∏–¥–µ—Ç—å –ø—Ä–æ–≥—Ä–µ—Å—Å
- **–ì—É–≥–ª–∏—Ç–µ** –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä, "Ruby singleton module")
- **–ó–∞–¥–∞–≤–∞–π—Ç–µ –≤–æ–ø—Ä–æ—Å—ã**, –µ—Å–ª–∏ —á—Ç–æ-—Ç–æ –Ω–µ–ø–æ–Ω—è—Ç–Ω–æ

## –ü—Ä–∞–≤–∏–ª–∞

- –¢–µ—Å—Ç—ã —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å **–Ω–µ–ª—å–∑—è**
- –ú–æ–∂–Ω–æ –¥–æ–±–∞–≤–ª—è—Ç—å —Å–≤–æ–∏ —Ç–µ—Å—Ç—ã, –µ—Å–ª–∏ –Ω—É–∂–Ω–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –∫–µ–π—Å—ã
- –í –ø—Ä–æ—Ü–µ—Å—Å–µ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ —É–±–∏—Ä–∞–π—Ç–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–µ TODO-–∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏

## –û—Ç–ª–∞–¥–∫–∞

–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ VS Code debugger:
1. –ü–æ—Å—Ç–∞–≤—å—Ç–µ breakpoint, –∫–ª–∏–∫–Ω—É–≤ —Å–ª–µ–≤–∞ –æ—Ç –Ω–æ–º–µ—Ä–∞ —Å—Ç—Ä–æ–∫–∏
2. –ù–∞–∂–º–∏—Ç–µ F5 –¥–ª—è –∑–∞–ø—É—Å–∫–∞ –æ—Ç–ª–∞–¥–∫–∏
3. F10 - —à–∞–≥ —á–µ—Ä–µ–∑, F11 - —à–∞–≥ –≤–Ω—É—Ç—Ä—å

–ò–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ `puts` –¥–ª—è –ø—Ä–æ—Å—Ç–æ–π –æ—Ç–ª–∞–¥–∫–∏:
```ruby
puts "Debug: variable = #{variable}"
```

## –ü–æ–ª–µ–∑–Ω—ã–µ —Å—Å—ã–ª–∫–∏

- [Ruby Documentation](https://ruby-doc.org/)
- [Ruby Style Guide](https://rubystyle.guide/)
- [Design Patterns](https://refactoring.guru/design-patterns/ruby)

## –§–æ—Ä–º–∞—Ç —Å–¥–∞—á–∏

–ü–æ–∫–∞–∑–∞—Ç—å –ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª—é —Ä–∞–±–æ—Ç–∞—é—â–∏–π –∫–æ–¥. –ü—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª—å –∑–∞–¥–∞—Å—Ç –≤–æ–ø—Ä–æ—Å—ã –ø–æ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏.